<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distributed Generalized Linear Models • distribglm</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Distributed Generalized Linear Models">
<meta property="og:description" content="Distributed generalized linear models (GLM) fitting using 
    Fisher scoring.  Models are to be fit using a primary-secondary 
    relationship, where the results are written to a synced folder, but
    data can be elsewhere though it is loaded in memory.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">distribglm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/muschellij2/distribglm/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="distribglm-distributed-computing-model-from-a-synced-folder" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#distribglm-distributed-computing-model-from-a-synced-folder" class="anchor"></a><code>distribglm</code>: Distributed Computing Model from a Synced Folder</h1></div>
<!-- badges: start -->

<p>The goal of <code>distribglm</code> is to provide an example of a Distributed Computing Model from a Synced Folder. In this case, “synced folder” usually means Dropbox or Box Sync.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of distribglm from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"distribglm"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"muschellij2/distribglm"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/muschellij2/distribglm">distribglm</a></span><span class="op">)</span>
<span class="co">## basic example code</span></code></pre></div>
<p>To set up a model, run <code>setup_model.R</code>. Currently, it’s only been tested on logistic regression. This will ensure the correct folders are set up on the synced folder. Once the folders are synced, each hospital/site should use the <code>secondary.R</code> file.</p>
</div>
<div id="hospitalsite-configuration" class="section level2">
<h2 class="hasAnchor">
<a href="#hospitalsite-configuration" class="anchor"></a>Hospital/Site Configuration</h2>
<p>For each site, a few things need to be specified. First, the <code>site_name</code> needs to be specified in the document. This can be something like <code>site1</code> or something like <code>my_hospital_name</code>. Second, the site must specify the <code>synced_folder</code> path. Though this folder is synced across the sites and the computing site, it may be located on different sub-folders on each computer. For example <code>~/Dropbox/Projects/distributed_model</code>, <code>C:/My Documents/distributed_model</code>, etc.</p>
<p>Additionally, the site may need to specify <code>all_site_names</code>, which is the names of all the other sites that are computing this model as well. This can be relaxed, but is currently there so that each site can see what’s going on, whether they’re waiting for another site to finish computing or for the computing site to update the beta coefficients.</p>
<p>The third thing is the site needs to specify the <code>data_source</code>. In the cases above, we use a CSV for the data. The important thing is that <strong>this data can be in a secure place</strong>. The data from this is used for computation but is <strong>not</strong> in the synced folder. Lastly, the site needs to specify the <code>model_name</code> to indicate which model is being analyzed. This could be relaxed where once a model is finalized/converged, all iterations and estimates are zipped up and then the formula is removed. Thus, if you check that a formula no longer exists, the site code will exit.</p>
<p>All sites need to have the data structured so the column names match exactly across sites for the formula specification to work. There could be an initial data check step too.</p>
</div>
<div id="computing-site-configuration" class="section level2">
<h2 class="hasAnchor">
<a href="#computing-site-configuration" class="anchor"></a>Computing Site Configuration</h2>
<p>The computing/master site first needed to setup the model from above. (Maybe specify all site names here too?). Similar to the sites, the computing site needs to specify the <code>model_name</code> to indicate which model is being analyzed, the <code>synced_folder</code> path, and <code>all_site_names</code>. That should be it to start the process until the model converges.</p>
</div>
</div>
<div id="what-actually-happens" class="section level1">
<h1 class="hasAnchor">
<a href="#what-actually-happens" class="anchor"></a>What actually happens?</h1>
<p>Currently, the process that happens is as follows:</p>
<ol>
<li>The data is read into <code>R</code>. The model design matrix <code>X</code> is created</li>
<li>Current β estimates are pulled for the specified model. If no estimates exist, β is initialized to a vector of zeros.</li>
<li>
<code>Xβ</code> is computed, which is <em>ŷ</em>, and <em>ε̂</em> = <em>y</em> − <em>ŷ</em>. Then <em>δ̂</em> = *X**ε̂* is created and <em>δ̄</em> is used as the vector of gradients to update <em>β</em>`. Each site returns <em>δ̂</em> and the sample size at that site so that they can be combined to <em>δ̄</em>.</li>
<li>The compute site gathers the <em>δ̂</em> and the sample sizes, and computes <em>δ̄</em>, and then writes the updated <em>β</em>.<br>
</li>
<li>The compute site checks to see if <em>δ̄</em> is below some tolerance level to determine convergence.</li>
</ol>
</div>
<div id="outstanding-issues" class="section level1">
<h1 class="hasAnchor">
<a href="#outstanding-issues" class="anchor"></a>Outstanding issues</h1>
<ol>
<li>Standard errors</li>
<li>Better diagnostics</li>
<li>Use Fisher scoring vs. gradient descent for better convergence rates (<a href="https://statmath.wu.ac.at/courses/heather_turner/glmCourse_001.pdf" class="uri">https://statmath.wu.ac.at/courses/heather_turner/glmCourse_001.pdf</a>). This will solve the standard errors todo as well.</li>
</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/muschellij2/distribglm/">https://​github.com/​muschellij2/​distribglm/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/muschellij2/distribglm/issues">https://​github.com/​muschellij2/​distribglm/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>John Muschelli <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6469-1750" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.com/muschellij2/distribglm"><img src="https://travis-ci.com/muschellij2/distribglm.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/muschellij2/distribglm"><img src="https://ci.appveyor.com/api/projects/status/github/muschellij2/distribglm?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://github.com/muschellij2/distribglm/actions"><img src="https://github.com/muschellij2/distribglm/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by John Muschelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
